(self.webpackChunkconsole_ui=self.webpackChunkconsole_ui||[]).push([[118],{3008:e=>{function r(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=3008,e.exports=r},3524:(e,r,o)=>{"use strict";var i=o(7921),s=o(5043),t=o(4391),n=o(8437),a=o(7143),d=o(3700),c=o(9560),l=o(7335),h=o(1651),p=o(3877),f=o(3028),g=o(8183),u=o(8871),m=o(2590),j=o(579);const x=()=>{const[e,r]=s.useState(""),[o,i]=s.useState(""),[t,x]=s.useState(""),[y,C]=s.useState(!1),[R,b]=s.useState(""),v={spinnerAriaValueText:"Loading",spinnerAriaLabelledBy:"primary-loading-button"};v.isLoading=y;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.d8,{variant:n.zC.light,children:(0,j.jsxs)(a.n,{children:[(0,j.jsx)(d.E,{component:"h1",children:"Refresh S2I integrator Configurations"}),(0,j.jsx)(d.E,{component:"p",children:"Refresh Configurations of S2I MPG, CCPay and Services integrators"}),"(refreshR)"]})}),(0,j.jsxs)(c.l,{isHorizontal:!0,children:[(0,j.jsxs)(l.g,{label:"s2i-mpg-integrator Pods",isRequired:!0,fieldId:"horizontal-form-mpg-pods",children:[(0,j.jsx)(h.ks,{value:e,isRequired:!0,type:"text",id:"horizontal-form-mpg-pods","aria-describedby":"horizontal-form-mpg-pods-helper",name:"horizontal-form-mpg-pods",onChange:(e,o)=>r(o.trim())}),(0,j.jsx)(p.e,{children:(0,j.jsx)(f.E,{children:(0,j.jsx)(g.j,{children:"Input s2i-mpg-integrator pod URLs"})})})]}),(0,j.jsxs)(l.g,{label:"s2i-ccpay-integrator Pods",isRequired:!0,fieldId:"horizontal-form-ccpay-pods",children:[(0,j.jsx)(h.ks,{value:o,isRequired:!0,type:"text",id:"horizontal-form-ccpay-pods","aria-describedby":"horizontal-form-ccpay-pods-helper",name:"horizontal-form-ccpay-pods",onChange:(e,r)=>i(r.trim())}),(0,j.jsx)(p.e,{children:(0,j.jsx)(f.E,{children:(0,j.jsx)(g.j,{children:"Input s2i-ccpay-integrator pod URLs."})})})]}),(0,j.jsxs)(l.g,{label:"s2i-service-integrator Pods",isRequired:!0,fieldId:"horizontal-form-service-pods",children:[(0,j.jsx)(h.ks,{value:t,isRequired:!0,type:"text",id:"horizontal-form-service-pods","aria-describedby":"horizontal-form-service-pods-helper",name:"horizontal-form-service-pods",onChange:(e,r)=>x(r.trim())}),(0,j.jsx)(p.e,{children:(0,j.jsx)(f.E,{children:(0,j.jsx)(g.j,{children:"Input s2i-services-integrator pod URLs."})})})]}),(0,j.jsx)(u.K,{children:(0,j.jsx)(m.$n,{variant:"primary",onClick:()=>(async()=>{let r=[];e.length>0&&e.split(",").forEach((e=>r.push({pod:e,refreshUrl:"http://".concat(e,":8080/actuator/refresh")}))),o.length>0&&o.split(",").forEach((e=>r.push({pod:e,refreshUrl:"http://".concat(e,":8080/actuator/refresh")}))),t.length>0&&t.split(",").forEach((e=>r.push({pod:e,refreshUrl:"http://".concat(e,":8080/actuator/refresh")}))),console.log("Refresh config for ",r);try{const e={method:"POST",headers:{"Content-Type":"application/json",accept:"*/*"},body:JSON.stringify({requestHeader:{traceId:"123"},refreshConfigurations:r})};C((()=>!0)),await fetch("/my-camel/admin/api/refreshConfig",e).then((e=>e.json())).then((e=>{b((()=>JSON.stringify(e))),C((()=>!1))})),console.log("done refreshing")}catch(i){console.log(i),C((()=>!1)),b((()=>JSON.stringify(i)))}})(),isDisabled:y,...v,children:y?"Refreshing":"Refresh Config"})})]})]})},y="4.1.0";i.Logger.get("hawtio-console").info("Hawtio console:",y),(0,i.registerPlugins)(),i.hawtio.addPlugin({id:"refresh-configurations",title:"Refresh Configurations",path:"/refresh",component:x,isActive:async()=>!0}),i.hawtio.addUrl("plugin").bootstrap(),i.configManager.addProductInfo("Hawtio",y);t.createRoot(document.getElementById("root")).render((0,j.jsx)(s.StrictMode,{children:(0,j.jsx)(i.Hawtio,{})}))},1903:()=>{},4394:()=>{}}]);
//# sourceMappingURL=118.c29a7214.chunk.js.map