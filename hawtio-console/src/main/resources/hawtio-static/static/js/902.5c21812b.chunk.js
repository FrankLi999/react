(self.webpackChunkconsole_ui=self.webpackChunkconsole_ui||[]).push([[902],{13008:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=13008,e.exports=t},19272:(e,t,r)=>{"use strict";var i=r(77921),n=r(65043),a=r(84391),s=r(73216),o=r(35407),l=r(70579);const c=(0,n.createContext)({config:{}});function d(e){let{children:t}=e;const[r,i]=(0,n.useState)({});(0,n.useEffect)((()=>{(async()=>{const e=await(await fetch("/my-camel/admin/api/react-config")).json();console.log("myConfig: ",e),i(e.config)})()}),[]);const a=(0,n.useMemo)((()=>({config:{...r}})),[r]);return(0,l.jsx)(c.Provider,{value:a,children:t})}var u=r(92590),p=r(62169),m=r(44609),h=r(98437),g=r(57143),f=r(33700),x=r(34871),j=r(84910),y=r(34127),v=r(50709),b=r(49369),S=r(90447),C=r(46131),N=r(84634),F=r(86213),E=r(20424);const k=e=>{let{showModal:t,hideModal:r,confirmModal:i,row:n,message:a}=e;return(0,l.jsx)(E.a,{bodyAriaLabel:"Scrollable modal content",tabIndex:0,variant:E.d.medium,title:"Delete Confirmation",isOpen:t,onClose:r,actions:[(0,l.jsx)(u.$n,{variant:"danger",onClick:()=>i(n),children:"Delete"}),(0,l.jsx)(u.$n,{variant:"secondary",onClick:r,children:"Cancel"})],children:(0,l.jsx)("div",{className:"alert alert-danger",children:a})})},B=e=>{let{showModal:t,hideModal:r,importConfiguration:i}=e;const a=(0,n.useRef)(null),[s,o]=(0,n.useState)(null);return(0,l.jsxs)(E.a,{bodyAriaLabel:"Scrollable modal content",tabIndex:0,variant:E.d.medium,title:"Import Spring Configurations",isOpen:t,onClose:r,actions:[(0,l.jsx)(u.$n,{variant:"primary",isDisabled:!s,onClick:e=>{e.preventDefault(),async function(){s&&i(s)}()},children:"Import"}),(0,l.jsx)(u.$n,{variant:"secondary",onClick:r,children:"Cancel"})],children:[(0,l.jsx)("label",{className:"mx-3",children:"Choose file: "}),(0,l.jsx)("input",{ref:a,onChange:()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.files)&&o(a.current.files[0])},className:"d-none",type:"file"}),(0,l.jsx)("button",{onClick:()=>{var e;null===(e=a.current)||void 0===e||e.click()},className:"btn btn-outline-".concat(s?"success":"primary"),children:s?s.name:"Upload"})]})};var w=r(35475),T=r(59678),D=r(70181),A=r(40443),R=r(96244),O=r(23782),I=r(31462);function P(e){let{uiSchema:t,registry:r,...i}=e;const{translateString:n}=r;return(0,l.jsx)(u.$n,{...i,style:{width:"100%"},className:"ml-1 ".concat(i.className),title:n(O.Zl.AddItemButton),children:(0,l.jsx)(I.QCG,{})})}var L=r(98951),$=r(18220);function q(e){const{children:t,disabled:r,hasToolbar:i,hasCopy:n,hasMoveDown:a,hasMoveUp:s,hasRemove:o,index:c,onCopyIndexClick:d,onDropIndexClick:u,onReorderClick:p,readonly:m,registry:h,uiSchema:g}=e,{CopyButton:f,MoveDownButton:x,MoveUpButton:j,RemoveButton:y}=h.templates.ButtonTemplates,v={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,l.jsx)("div",{children:(0,l.jsxs)(L.x,{children:[(0,l.jsx)($.E,{sm:9,lg:9,children:t}),(0,l.jsx)($.E,{sm:3,lg:3,className:"pf-v5-u-py-sm",children:i&&(0,l.jsxs)("div",{className:"d-flex flex-row",children:[(s||a)&&(0,l.jsx)("div",{className:"m-0 p-0",children:(0,l.jsx)(j,{className:"array-item-move-up",style:v,disabled:r||m||!s,onClick:p(c,c-1),uiSchema:g,registry:h})}),(s||a)&&(0,l.jsx)("div",{className:"m-0 p-0",children:(0,l.jsx)(x,{style:v,disabled:r||m||!a,onClick:p(c,c+1),uiSchema:g,registry:h})}),n&&(0,l.jsx)("div",{className:"m-0 p-0",children:(0,l.jsx)(f,{style:v,disabled:r||m,onClick:d(c),uiSchema:g,registry:h})}),o&&(0,l.jsx)("div",{className:"m-0 p-0",children:(0,l.jsx)(y,{style:v,disabled:r||m,onClick:u(c),uiSchema:g,registry:h})})]})})]})})}var M=r(20392),z=r(42097),V=r(99857);function U(e){const{canAdd:t,disabled:r,idSchema:i,uiSchema:n,items:a,onAddClick:s,readonly:o,registry:c,required:d,schema:u,title:p}=e,m=(0,O.$R)(n),h=(0,O.$F)("ArrayFieldDescriptionTemplate",c,m),g=(0,O.$F)("ArrayFieldItemTemplate",c,m),f=(0,O.$F)("ArrayFieldTitleTemplate",c,m),{ButtonTemplates:{AddButton:x}}=c.templates;return(0,l.jsx)("div",{children:(0,l.jsx)(L.x,{className:"pf-v5-u-p-0, pf-v5-u-m-0",children:(0,l.jsxs)($.E,{className:"pf-v5-u-p-0, pf-v5-u-m-0",children:[(0,l.jsx)(f,{idSchema:i,title:m.title||p,schema:u,uiSchema:n,required:d,registry:c}),(0,l.jsx)(h,{idSchema:i,description:m.description||u.description,schema:u,uiSchema:n,registry:c}),(0,l.jsx)(M.Z,{children:(0,l.jsx)(z.s,{children:(0,l.jsxs)(V.y,{className:"pf-v5-u-p-0, pf-v5-u-m-0",children:[a&&a.map((e=>{let{key:t,...r}=e;return(0,l.jsx)(g,{...r},t)})),t&&(0,l.jsx)(j.Z,{ouiaId:"BasicCard",children:(0,l.jsxs)(L.x,{className:"pf-v5-u-mt-xs",children:[(0,l.jsx)($.E,{span:9}),(0,l.jsx)($.E,{span:3,className:"pf-v5-u-py-sm",children:(0,l.jsx)(x,{className:"array-item-add",onClick:s,disabled:r||o,uiSchema:n,registry:c})})]})})]},"array-item-list-".concat(i.$id))})})]})})})}var K=r(74032);function Z(e){let{id:t,placeholder:r,required:i,readonly:n,disabled:a,type:s,value:o,onChange:c,onChangeOverride:d,onBlur:u,onFocus:p,autofocus:m,options:h,schema:g,rawErrors:f=[],children:x,extraProps:j}=e;const y={...j,...(0,O.ti)(g,s,h)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(K.ks,{id:t,name:t,placeholder:r,autoFocus:m,isRequired:i,isDisabled:a,readOnly:n,className:f.length>0?"is-invalid":"",list:g.examples?(0,O.$c)(t):void 0,...y,value:o||0===o?o:"",onChange:d||(e=>{let{target:{value:t}}=e;return c(""===t?h.emptyValue:t)}),onBlur:e=>{let{target:r}=e;return u(t,r&&r.value)},onFocus:e=>{let{target:r}=e;return p(t,r&&r.value)},"aria-describedby":(0,O.eG)(t,!!g.examples)}),x,Array.isArray(g.examples)?(0,l.jsx)("datalist",{id:(0,O.$c)(t),children:g.examples.concat(g.default&&!g.examples.includes(g.default)?[g.default]:[]).map((e=>(0,l.jsx)("option",{value:e},e)))}):null]})}function W(e){let{id:t,description:r}=e;return r?(0,l.jsx)("div",{children:(0,l.jsx)("div",{id:t,className:"mb-3",children:r})}):null}var G=r(66383),J=r(93877),X=r(74834),H=r(96765),Q=r(93028),_=r(28183);function Y(e){let{errors:t,registry:r}=e;const{translateString:i}=r;return(0,l.jsxs)(j.Z,{className:"pf-v5-u-mb-sm, pf-m-error",children:[(0,l.jsx)(G.a,{className:"alert-danger",children:i(O.Zl.ErrorsLabel)}),(0,l.jsx)(T.b,{className:"pf-v5-u-p-0",children:(0,l.jsx)(J.e,{children:(0,l.jsx)(X.B8,{isPlain:!0,children:t.map(((e,t)=>(0,l.jsx)(H.c,{children:(0,l.jsx)(Q.E,{children:(0,l.jsx)(_.j,{variant:"error",children:e.stack})})},t)))})})})]})}var ee=r(50423),te=r(3825);function re(e){const{icon:t,iconType:r,className:i,uiSchema:n,registry:a,...s}=e;return(0,l.jsx)(u.$n,{isBlock:"block"===r,...s,variant:e.variant||"plain",size:"sm",children:t})}function ie(e){const{registry:{translateString:t}}=e;return(0,l.jsx)(re,{title:t(O.Zl.CopyButton),...e,icon:(0,l.jsx)(ee.TGQ,{})})}function ne(e){const{registry:{translateString:t}}=e;return(0,l.jsx)(re,{title:t(O.Zl.MoveDownButton),...e,icon:(0,l.jsx)(te.sJ2,{})})}function ae(e){const{registry:{translateString:t}}=e;return(0,l.jsx)(re,{title:t(O.Zl.MoveUpButton),...e,icon:(0,l.jsx)(te.TN$,{})})}function se(e){const{registry:{translateString:t}}=e;return(0,l.jsx)(re,{title:t(O.Zl.RemoveButton),...e,variant:"danger",icon:(0,l.jsx)(ee.Knk,{})})}function oe(e){const{errors:t=[],idSchema:r}=e;if(0===t.length)return null;const i=(0,O.rD)(r);return(0,l.jsx)(Q.E,{id:i,children:t.map(((e,t)=>(0,l.jsx)(J.e,{children:(0,l.jsx)(Q.E,{children:(0,l.jsx)(_.j,{variant:"error",className:"pf-v5-u-p-0, pf-v5-u-m-0",children:(0,l.jsx)("small",{className:"m-0 text-danger",children:e})},t)})})))})}function le(e){const{idSchema:t,help:r,hasErrors:i}=e;if(!r)return null;const n=(0,O.F5)(t);return(0,l.jsx)(J.e,{children:(0,l.jsx)(Q.E,{children:(0,l.jsx)(_.j,{id:n,variant:i?"error":void 0,children:r})})})}var ce=r(37335);function de(e){let{id:t,children:r,displayLabel:i,rawErrors:n=[],errors:a,help:s,description:o,rawDescription:c,classNames:d,style:u,disabled:p,label:m,hidden:h,onDropPropertyClick:g,onKeyChange:f,readonly:x,required:j,schema:y,uiSchema:v,registry:b}=e;const S=(0,O.$R)(v),C=(0,O.$F)("WrapIfAdditionalTemplate",b,S);return h?(0,l.jsx)("div",{className:"hidden",children:r}):(0,l.jsx)(C,{classNames:d,style:u,disabled:p,id:t,label:m,onDropPropertyClick:g,onKeyChange:f,readonly:x,required:j,schema:y,uiSchema:v,registry:b,children:(0,l.jsxs)(ce.g,{label:i?m:void 0,isRequired:j,fieldId:"{id}",children:[r,i&&c&&(0,l.jsx)(K.ks,{validated:n.length>0?"error":"default",id:"".concat(t,"-description"),children:o}),a,s]})})}function ue(e){let{description:t,title:r,properties:i,required:n,uiSchema:a,idSchema:s,schema:o,formData:c,onAddClick:d,disabled:u,readonly:p,registry:m}=e;const h=(0,O.$R)(a),g=(0,O.$F)("TitleFieldTemplate",m,h),f=(0,O.$F)("DescriptionFieldTemplate",m,h),{ButtonTemplates:{AddButton:x}}=m.templates;return(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsx)(g,{id:(0,O.EH)(s),title:r,required:n,schema:o,uiSchema:a,registry:m}),t&&(0,l.jsx)(f,{id:(0,O.IR)(s),description:t,schema:o,uiSchema:a,registry:m}),(0,l.jsxs)(M.Z,{className:"pf-v5-u-p-0",children:[i.map(((e,t)=>(0,l.jsx)(L.x,{style:{marginBottom:"10px"},className:e.hidden?"pf-v5-u-display-none":void 0,children:(0,l.jsxs)($.E,{sm:12,children:[" ",e.content]})},t))),(0,O.Xl)(o,a,c)?(0,l.jsx)(L.x,{children:(0,l.jsx)($.E,{sm:3,smOffset:9,className:"pf-v5-u-py-sm",children:(0,l.jsx)(x,{onClick:d(o),disabled:u||p,className:"object-property-expand",uiSchema:a,registry:m})})}):null]})]})}function pe(e){const{submitText:t,norender:r,props:i}=(0,O.Bj)(e.uiSchema);return r?null:(0,l.jsx)("div",{children:(0,l.jsx)(u.$n,{variant:"primary",type:"submit",...i,children:t})})}function me(e){let{id:t,title:r,uiSchema:i}=e;const n=(0,O.$R)(i);return(0,l.jsxs)("div",{id:t,className:"my-1",children:[(0,l.jsx)("h5",{children:n.title||r}),(0,l.jsx)("hr",{className:"border-0 bg-secondary",style:{height:"1px"}})]})}function he(e){let{classNames:t,style:r,children:i,disabled:n,id:a,label:s,onDropPropertyClick:o,onKeyChange:c,readonly:d,required:u,schema:p,uiSchema:m,registry:h}=e;const{templates:g,translateString:f}=h,{RemoveButton:x}=g.ButtonTemplates,j=f(O.Zl.KeyLabel,[s]);if(!(O.Rr in p))return(0,l.jsx)("div",{className:t,style:r,children:i});const y="".concat(a,"-key");return(0,l.jsxs)(L.x,{className:t,style:r,children:[(0,l.jsx)($.E,{sm:5,children:(0,l.jsx)(ce.g,{label:j,fieldId:y,children:(0,l.jsx)(K.ks,{isRequired:u,defaultValue:s,isDisabled:n||d,id:y,name:y,onBlur:d?void 0:e=>{let{target:t}=e;return c(t.value)}})})}),(0,l.jsx)($.E,{sm:5,children:i}),(0,l.jsx)($.E,{sm:2,className:"py-4",children:(0,l.jsx)(x,{iconType:"block",className:"w-100",disabled:n||d,onClick:o(s),uiSchema:m,registry:h})})]},y)}function ge(){return{ArrayFieldItemTemplate:q,ArrayFieldTemplate:U,BaseInputTemplate:Z,ButtonTemplates:{AddButton:P,CopyButton:ie,MoveDownButton:ne,MoveUpButton:ae,RemoveButton:se,SubmitButton:pe},DescriptionFieldTemplate:W,ErrorListTemplate:Y,FieldErrorTemplate:oe,FieldHelpTemplate:le,FieldTemplate:de,ObjectFieldTemplate:ue,TitleFieldTemplate:me,WrapIfAdditionalTemplate:he}}ge();var fe=r(54764);function xe(e){const{id:t,value:r,disabled:i,readonly:n,label:a,hideLabel:s,schema:o,autofocus:c,options:d,onChange:u,onBlur:p,onFocus:m,registry:h,uiSchema:g}=e,f=(0,O.l1)(o),x=(0,O.$F)("DescriptionFieldTemplate",h,d),j=e=>{let{target:{checked:t}}=e;return u(t)},y=d.description||o.description;return(0,l.jsxs)(ce.g,{className:"checkbox ".concat(i||n?"disabled":""),"aria-describedby":(0,O.eG)(t),children:[!s&&!!y&&(0,l.jsx)(x,{id:(0,O.IR)(t),description:y,schema:o,uiSchema:g,registry:h}),(0,l.jsx)(fe.S,{id:t,name:t,label:(0,O.w)(a,s||!a),checked:"undefined"!==typeof r&&r,isRequired:f,isDisabled:i||n,autoFocus:c,onChange:()=>j,onBlur:e=>{let{target:r}=e;return p(t,r&&r.checked)},onFocus:e=>{let{target:r}=e;return m(t,r&&r.checked)}})]})}function je(e){let{id:t,disabled:r,options:i,value:n,autofocus:a,readonly:s,required:o,onChange:c,onBlur:d,onFocus:u}=e;const{enumOptions:p,enumDisabled:m,inline:h,emptyValue:g}=i,f=Array.isArray(n)?n:[n],x=e=>{let{target:r}=e;return d(t,(0,O.Od)(r&&r.value,p,g))},j=e=>{let{target:r}=e;return u(t,(0,O.Od)(r&&r.value,p,g))};return(0,l.jsx)(ce.g,{role:"group",isInline:h,isStack:!h,children:Array.isArray(p)&&p.map(((e,i)=>{const n=(0,O.BH)(e.value,f),d=Array.isArray(m)&&-1!==m.indexOf(e.value);return(0,l.jsx)(fe.S,{isRequired:o,checked:n,className:"bg-transparent border-0",id:(0,O.pk)(t,i),name:t,label:e.label,autoFocus:a&&0===i,onChange:()=>(e=>t=>{let{target:{checked:r}}=t;c(r?(0,O.L4)(e,f,p):(0,O.Uw)(e,f,p))})(i),onBlur:x,onFocus:j,isDisabled:r||d||s,"aria-describedby":(0,O.eG)(t)},e.value)}))})}var ye=r(54742);function ve(e){let{id:t,options:r,value:i,required:n,disabled:a,readonly:s,onChange:o,onBlur:c,onFocus:d}=e;const{enumOptions:u,enumDisabled:p,emptyValue:m}=r,h=e=>{let{target:{value:t}}=e;return o((0,O.Od)(t,u,m))},g=e=>{let{target:r}=e;return c(t,(0,O.Od)(r&&r.value,u,m))},f=e=>{let{target:r}=e;return d(t,(0,O.Od)(r&&r.value,u,m))},x=Boolean(r&&r.inline);return(0,l.jsx)(ce.g,{className:"pf-v5-u-mb-sm",role:"radiogroup",isInline:x,isStack:!x,children:Array.isArray(u)&&u.map(((e,r)=>{const n=Array.isArray(p)&&-1!==p.indexOf(e.value),o=(0,O.BH)(e.value,i);return(0,l.jsx)(ye.s,{label:e.label,id:(0,O.pk)(t,r),name:t,isDisabled:a||n||s,checked:o,value:String(r),onChange:()=>h,onBlur:g,onFocus:f,"aria-describedby":(0,O.eG)(t)},r)}))})}function be(e){const{value:t,label:r,hideLabel:i,options:n,registry:a}=e,s=(0,O.$F)("BaseInputTemplate",a,n);return(0,l.jsx)(s,{...e,extraProps:{label:(0,O.w)(r||void 0,i)},children:(0,l.jsx)("span",{className:"range-view",children:t})})}var Se=r(75178),Ce=r(59967);function Ne(e){let{schema:t,id:r,options:i,required:n,disabled:a,readonly:s,value:o,multiple:c,autofocus:d,onChange:u,onBlur:p,onFocus:m,placeholder:h,rawErrors:g=[]}=e;const{enumOptions:f,enumDisabled:x,emptyValue:j}=i,y=c?[]:"";function v(e,t){return t?[].slice.call(e.target.options).filter((e=>e.selected)).map((e=>e.value)):e.target.value}const b=(0,O.Yu)(o,f,c),S=!c&&void 0===t.default;return(0,l.jsxs)(Se.F,{as:"select",id:r,name:r,value:"undefined"===typeof b?y:b,isRequired:n,multiple:c,isDisabled:a||s,autoFocus:d,className:g.length>0?"is-invalid":"",onBlur:p&&(e=>{const t=v(e,c);p(r,(0,O.Od)(t,f,j))}),onFocus:m&&(e=>{const t=v(e,c);m(r,(0,O.Od)(t,f,j))}),onChange:e=>{const t=v(e,c);u((0,O.Od)(t,f,j))},"aria-describedby":(0,O.eG)(r),children:[S&&(0,l.jsx)(Ce.Q,{label:h||"",value:""}),f.map(((e,t)=>{let{value:r,label:i}=e;const n=Array.isArray(x)&&-1!=x.indexOf(r);return(0,l.jsx)(Ce.Q,{id:i,label:i,value:String(t),isDisabled:n},t)}))]})}var Fe=r(36962);function Ee(e){let{id:t,placeholder:r,value:i,required:n,disabled:a,autofocus:s,readonly:o,onBlur:c,onFocus:d,onChange:u,options:p}=e;const m=e=>{let{target:{value:t}}=e;return u(""===t?p.emptyValue:t)},h=e=>{let{target:r}=e;return c(t,r&&r.value)},g=e=>{let{target:r}=e;return d(t,r&&r.value)};return(0,l.jsx)(ce.g,{fieldId:t,children:(0,l.jsx)(Fe.fs,{id:t,name:t,placeholder:r,isDisabled:a,readOnly:o,value:i,isRequired:n,autoFocus:s,rows:p.rows||5,onChange:()=>m,onBlur:()=>h,onFocus:()=>g,"aria-describedby":(0,O.eG)(t)})})}function ke(){return{CheckboxWidget:xe,CheckboxesWidget:je,RadioWidget:ve,RangeWidget:be,SelectWidget:Ne,TextareaWidget:Ee}}ke();var Be=r(39560);function we(){return{templates:ge(),widgets:ke(),_internalFormWrapper:Be.l}}we();const Te=(0,R.SL)(we());const De=function(){const[e]=(0,o.lT)(["XSRF-TOKEN"]),t=r(99747),i=r(13355),{state:n}=(0,s.zy)(),a={...n};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.d8,{variant:h.zC.light,children:[(0,l.jsxs)(g.n,{children:[(0,l.jsxs)(f.E,{component:"h4",children:["Camel Integrator Configurations: ",n.application,"/",n.profile," "]}),(0,l.jsx)(f.E,{component:"p",children:"Edit configurations for an application profile"})]}),(0,l.jsx)("div",{className:"small form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:(0,l.jsx)(w.Link,{to:"/spring-config",children:"Go to configurations page"})})]}),(0,l.jsx)(h.d8,{children:(0,l.jsxs)(j.Z,{children:[(0,l.jsx)(T.b,{children:(0,l.jsx)(Te,{schema:t,uiSchema:i,formData:a,validator:A.Ay,onSubmit:t=>async function(t){console.log("submitted data",t),console.log("submitted for data",t.formData);try{const r={method:"PUT",headers:{"Content-Type":"application/json",accept:"application/json","X-XSRF-TOKEN":e["XSRF-TOKEN"]},body:JSON.stringify([t.formData])};await fetch("/my-camel/admin/api/spring-config/configurations",r)}catch(r){console.log(r)}}(t)})}),(0,l.jsx)(D.w,{children:(0,l.jsx)("div",{className:"small form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:(0,l.jsx)(w.Link,{to:"/spring-config",children:"Go to configurations page"})})})]})})]})};const Ae=function(){const[e]=(0,o.lT)(["XSRF-TOKEN"]),t=r(99747),i=r(61287),n=r(49813);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.d8,{variant:h.zC.light,children:[(0,l.jsxs)(g.n,{children:[(0,l.jsx)(f.E,{component:"h4",children:"Camel Integrator Configurations"}),(0,l.jsx)(f.E,{component:"p",children:"Create configurations for an application profile"})]}),(0,l.jsx)("div",{className:"small form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:(0,l.jsx)(w.Link,{to:"/spring-config",children:"Go to configurations page"})})]}),(0,l.jsx)(h.d8,{children:(0,l.jsxs)(j.Z,{children:[(0,l.jsx)(T.b,{children:(0,l.jsx)(Te,{schema:t,uiSchema:i,formData:n,validator:A.Ay,onSubmit:t=>async function(t){console.log("submitted data",t),console.log("submitted for data",t.formData);try{const r={method:"POST",headers:{"Content-Type":"application/json",accept:"application/json","X-XSRF-TOKEN":e["XSRF-TOKEN"]},body:JSON.stringify([t.formData])};await fetch("/my-camel/admin/api/spring-config/configurations",r)}catch(r){console.log(r)}}(t)})}),(0,l.jsx)(D.w,{children:(0,l.jsx)("div",{className:"small form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:(0,l.jsx)(w.Link,{to:"/spring-config",children:"Go to configurations page"})})})]})})]})};const Re=function(){const e=(0,s.Zp)(),{state:t}=(0,s.zy)(),r=[{dataField:"propKey",text:"Property",sort:!0,editable:!1},{dataField:"propValue",text:"Profile",sort:!1,editable:!1}],[i,a]=n.useState(1),[o,c]=n.useState(5),[d,m]=n.useState(t.props.slice((i-1)*o,i*o)),[x,F]=n.useState(void 0),[E,k]=n.useState(void 0),B=(e,r,i,n,s)=>{m(t.props.slice(n,s)),a(r)},A=(e,r,i,n,a)=>{m(t.props.slice(n,a)),c(r)},R=e=>({sortBy:{index:x,direction:E,defaultDirection:"asc"},onSort:(e,t,r)=>{F(t),k(r)},columnIndex:e}),O=(e,t)=>(0,l.jsx)(l.Fragment,{children:t[e.dataField]});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.d8,{variant:h.zC.light,children:(0,l.jsxs)(g.n,{children:[(0,l.jsxs)(f.E,{component:"h4",children:["Application Configuration: ",t.application,"/",t.profile," "]}),(0,l.jsx)(u.$n,{onClick:()=>{e("/spring-config/edit",{state:{...t}})},children:"Edit"})]})}),(0,l.jsx)(h.d8,{children:(0,l.jsxs)(j.Z,{children:[(0,l.jsxs)(T.b,{children:[(0,l.jsxs)(y.X,{variant:"compact","aria-label":"Spring configurations",children:[(0,l.jsx)(v.d,{children:(0,l.jsx)(b.Tr,{children:r.map(((e,t)=>(0,l.jsx)(S.Th,{sort:e.sort?R(t):void 0,children:e.text},t)))})}),(0,l.jsx)(C.N,{children:d.map(((e,t)=>(0,l.jsx)(b.Tr,{children:r.map(((t,r)=>(0,l.jsx)(N.Td,{children:O(t,e)},t.dataField)))},t)))})]}),(I=p.A.bottom,(0,l.jsx)(p.d,{itemCount:t.props.length,page:i,perPage:o,onSetPage:B,onPerPageSelect:A,variant:I}))]}),(0,l.jsx)(D.w,{children:(0,l.jsx)("div",{className:"small form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:(0,l.jsx)(w.Link,{to:"/spring-config",children:"Go to configurations page"})})})]})})]});var I},Oe=(0,n.createContext)(null),Ie={hasError:!1,error:null},Pe=e=>{let{children:t}=e;const[r,i]=n.useState(Ie);return(0,l.jsx)(Oe.Provider,{value:{hasError:r.hasError,error:r.error,resetErrorBoundary:()=>{i(Ie)},showBoundary:e=>{i({hasError:!0,error:e})}},children:t})};function Le(){const e=(0,n.useContext)(Oe);!function(e){if(null==e||"boolean"!==typeof e.hasError||"function"!==typeof e.resetErrorBoundary||"function"!==typeof e.showBoundary)throw new Error("ErrorBoundaryContext not found")}(e);return(0,n.useMemo)((()=>({hasError:e.hasError,error:e.error,resetBoundary:()=>{e.resetErrorBoundary()},showBoundary:t=>{e.showBoundary(t)}})),[e.resetErrorBoundary])}const $e=e=>{let{children:t}=e;const{hasError:r,error:i,resetBoundary:n}=Le();return(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsxs)("div",{role:"alert",children:[(0,l.jsx)("p",{children:"Place holder for error handling:"}),(0,l.jsx)("pre",{children:i.message}),(0,l.jsx)("button",{onClick:n,children:"Try again"})]}),t]})},qe=()=>{const e=(0,s.Zp)(),[t,r]=(0,n.useState)(!1),[i,a]=(0,n.useState)(!1),[c,E]=(0,n.useState)(!1),[w,T]=(0,n.useState)(null),[D,A]=(0,n.useState)([]),[R,O]=(0,n.useState)(!1),[I,P]=n.useState(1),[L,$]=n.useState(10),[q,M]=n.useState([]),[z,V]=n.useState(void 0),[U,K]=n.useState(void 0);console.log("1111111111111111111>>>",q);const Z=e=>{console.log(">>>>>>>> import configuration:",e);const t=new FormData;t.append("file",e);F.A.post("/my-camel/admin/api/spring-config/import",t,{headers:{"content-type":"multipart/form-data"}}).then((e=>{console.log(">>>>>>1>>>>>>>>",e.data),A((()=>e.data)),M((()=>D.slice((I-1)*L,I*L))),a((()=>!1))})).catch((e=>{console.error("Error uploading spring config: ",e),a((()=>!1))}))},W=e=>{console.log(">>>>>>>> import configuration:",e);const t=new FormData;t.append("file",e);F.A.post("/my-camel/admin/api/spring-config/sql",t,{headers:{"content-type":"multipart/form-data",accept:"*/*"}}).then((e=>{console.log(e.data),A((()=>e.data)),M((()=>D.slice((I-1)*L,I*L))),E((()=>!1))})).catch((e=>{console.error("Error uploading spring config: ",e),E(!1)}))},G=()=>{a(!1)},J=()=>{E(!1)},X=()=>{r(!1)},H=()=>{const e=new Blob([JSON.stringify(D,null,2)],{type:"text/json"}),t=window.URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.href=t,r.download="spring-config.json",r.click(),document.body.removeChild(r)},Q=t=>{e("/spring-config/edit",{state:{...t}})},_=t=>{e("/spring-config/details",{state:{...t}})},Y=e=>{T((()=>e)),r((()=>!0))};async function ee(e){console.log("delete app profile",e);try{const t={method:"DELETE",headers:{"Content-Type":"application/json",accept:"*/*"},body:JSON.stringify([{application:e.application,profile:e.profile}])};O((()=>!0)),await fetch("/my-camel/admin/api/spring-config/configurations",t).then((e=>e.json())).then((e=>{A((()=>e)),M((()=>D.slice((I-1)*L,I*L))),O((()=>!1)),r((()=>!1))})),console.log("deleted")}catch(t){console.log(t)}}const te=[{dataField:"application",text:"Application",sort:!0,editable:!1},{dataField:"profile",text:"Profile",sort:!1,editable:!1},{dataField:"label",text:"Label",sort:!1,editable:!1},{dataField:"actions",text:"Details",sort:!1,isDummyField:!0,editable:!1,formatter:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.$n,{onClick:()=>{Q(e)},children:"Edit"}),(0,l.jsx)(u.$n,{onClick:()=>{_(e)},children:"Config"}),(0,l.jsx)(u.$n,{onClick:()=>{Y(e)},children:"Delete"})]})}];console.log("222222222222222>>>>>>",q);const re=(e,t,r,i,n)=>{M(D.slice(i,n)),P(t)},ie=(e,t,r,i,n)=>{M(D.slice(i,n)),$(t)},ne=(e,t)=>e.formatter?(0,l.jsx)(l.Fragment,{children:e.formatter(t)}):(0,l.jsx)(l.Fragment,{children:t[e.dataField]}),ae=e=>({sortBy:{index:z,direction:U,defaultDirection:"asc"},onSort:(e,t,r)=>{V(t),K(r)},columnIndex:e});(0,n.useEffect)((()=>{O((()=>!0)),fetch("/my-camel/admin/api/spring-config/configurations").then((e=>e.json())).then((e=>{A((()=>e)),console.log(">>>>>>>>>>>>>>>33333",I,L,e),M((()=>e.slice((I-1)*L,I*L))),O((()=>!1))})).catch((e=>{console.log("... load config error",e)}))}),[]);const se=[{id:"create",title:"Create",element:Ae},{id:"edit",title:"Edit",element:De},{id:"details",title:"Details",element:Re}].map((e=>{let{id:t,element:r}=e;return(0,l.jsx)(s.qh,{path:t,element:n.createElement(r)},t)}));console.log(">>>>>>>>paginatedRows>>>>>>>>",q),console.log(">>>>>>>>configurations>>>>>>>>",D),console.log(">>>>>>>>perPage>>>>>>>>",L),console.log(">>>>>>>>page>>>>>>>>",I);const oe=()=>{return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m.v,{children:[(0,l.jsxs)(h.d8,{variant:h.zC.light,children:[(0,l.jsxs)(g.n,{children:[(0,l.jsx)(f.E,{component:"h1",children:"Camel Integrator Configurations"}),(0,l.jsx)(f.E,{component:"p",children:"Spring Application profiles"})]}),(0,l.jsxs)("div",{className:"small form-group d-flex align-items-center justify-content-start mt-4 mb-0",children:[(0,l.jsx)(u.$n,{className:"ml-1",onClick:()=>{e("/spring-config/create")},children:"Add Application Profile"}),(0,l.jsx)(u.$n,{className:"ml-1",style:{marginLeft:"12px"},onClick:H,children:"Export All Configurations"}),(0,l.jsx)(u.$n,{className:"ml-1",style:{marginLeft:"12px"},onClick:()=>{a(!0)},children:"Import All Configurations"}),(0,l.jsx)(u.$n,{className:"ml-1",style:{marginLeft:"12px"},onClick:()=>{E(!0)},children:"Import SQL"})]})]}),(0,l.jsx)(x.c,{}),(0,l.jsx)(h.d8,{children:(0,l.jsxs)(j.Z,{children:[(0,l.jsxs)(y.X,{variant:"compact","aria-label":"Spring configurations",children:[(0,l.jsx)(v.d,{children:(0,l.jsx)(b.Tr,{children:te.map(((e,t)=>(0,l.jsx)(S.Th,{sort:e.sort?ae(t):void 0,children:e.text},t)))})}),(0,l.jsx)(C.N,{children:q.map(((e,t)=>(0,l.jsx)(b.Tr,{children:te.map(((t,r)=>(0,l.jsx)(N.Td,{children:ne(t,e)},t.dataField)))},t)))})]}),(r=p.A.bottom,(0,l.jsx)(p.d,{itemCount:D.length,page:I,perPage:L,onSetPage:re,onPerPageSelect:ie,variant:r}))]})}),(0,l.jsx)(x.c,{})]}),(0,l.jsx)(k,{showModal:t,confirmModal:ee,hideModal:X,row:w,message:"Are you sure to delete configurations for application for ".concat(null===w||void 0===w?void 0:w.application,"/").concat(null===w||void 0===w?void 0:w.profile)}),(0,l.jsx)(B,{showModal:i,importConfiguration:Z,hideModal:G}),(0,l.jsx)(B,{showModal:c,importConfiguration:W,hideModal:J}),(0,l.jsx)(h.d8,{id:"connect-main",variant:h.zC.light,children:(0,l.jsx)(s.BV,{children:se})})]});var r};return R?(0,l.jsx)("p",{children:"Loading..."}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.vD,{children:(0,l.jsx)(d,{children:(0,l.jsx)(Pe,{children:(0,l.jsx)($e,{children:oe()})})})})})};var Me=r(8871);const ze=()=>{const[e,t]=n.useState(""),[r,i]=n.useState(""),[a,s]=n.useState(""),[o,c]=n.useState(!1),[d,p]=n.useState(""),m={spinnerAriaValueText:"Loading",spinnerAriaLabelledBy:"primary-loading-button"};m.isLoading=o;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.d8,{variant:h.zC.light,children:(0,l.jsxs)(g.n,{children:[(0,l.jsx)(f.E,{component:"h1",children:"Refresh S2I integrator Configurations"}),(0,l.jsx)(f.E,{component:"p",children:"Refresh Configurations of S2I MPG, CCPay and Services integrators"}),"(refreshR)"]})}),(0,l.jsxs)(Be.l,{isHorizontal:!0,children:[(0,l.jsxs)(ce.g,{label:"s2i-mpg-integrator Pods",isRequired:!0,fieldId:"horizontal-form-mpg-pods",children:[(0,l.jsx)(K.ks,{value:e,isRequired:!0,type:"text",id:"horizontal-form-mpg-pods","aria-describedby":"horizontal-form-mpg-pods-helper",name:"horizontal-form-mpg-pods",onChange:(e,r)=>t(r.trim())}),(0,l.jsx)(J.e,{children:(0,l.jsx)(Q.E,{children:(0,l.jsx)(_.j,{children:"Input s2i-mpg-integrator pod URLs"})})})]}),(0,l.jsxs)(ce.g,{label:"s2i-ccpay-integrator Pods",isRequired:!0,fieldId:"horizontal-form-ccpay-pods",children:[(0,l.jsx)(K.ks,{value:r,isRequired:!0,type:"text",id:"horizontal-form-ccpay-pods","aria-describedby":"horizontal-form-ccpay-pods-helper",name:"horizontal-form-ccpay-pods",onChange:(e,t)=>i(t.trim())}),(0,l.jsx)(J.e,{children:(0,l.jsx)(Q.E,{children:(0,l.jsx)(_.j,{children:"Input s2i-ccpay-integrator pod URLs."})})})]}),(0,l.jsxs)(ce.g,{label:"s2i-service-integrator Pods",isRequired:!0,fieldId:"horizontal-form-service-pods",children:[(0,l.jsx)(K.ks,{value:a,isRequired:!0,type:"text",id:"horizontal-form-service-pods","aria-describedby":"horizontal-form-service-pods-helper",name:"horizontal-form-service-pods",onChange:(e,t)=>s(t.trim())}),(0,l.jsx)(J.e,{children:(0,l.jsx)(Q.E,{children:(0,l.jsx)(_.j,{children:"Input s2i-services-integrator pod URLs."})})})]}),(0,l.jsx)(Me.K,{children:(0,l.jsx)(u.$n,{variant:"primary",onClick:()=>(async()=>{let t=[];e.length>0&&e.split(",").forEach((e=>t.push({pod:e,refreshUrl:e.startsWith("http://")||e.startsWith("https://")?e:"http://".concat(e,":8080/actuator/refresh")}))),r.length>0&&r.split(",").forEach((e=>t.push({pod:e,refreshUrl:e.startsWith("http://")||e.startsWith("https://")?e:"http://".concat(e,":8080/actuator/refresh")}))),a.length>0&&a.split(",").forEach((e=>t.push({pod:e,refreshUrl:e.startsWith("http://")||e.startsWith("https://")?e:"http://".concat(e,":8080/actuator/refresh")}))),console.log("Refresh config for ",t);try{const e={method:"POST",headers:{"Content-Type":"application/json",accept:"*/*"},body:JSON.stringify({requestHeader:{traceId:"123"},refreshConfigurations:t})};c((()=>!0)),await fetch("/my-camel/admin/api/refreshConfig",e).then((e=>e.json())).then((e=>{p((()=>JSON.stringify(e))),c((()=>!1))})),console.log("done refreshing")}catch(i){console.log(i),c((()=>!1)),p((()=>JSON.stringify(i)))}})(),isDisabled:o,...m,children:o?"Refreshing":"Refresh Config"})})]})]})},Ve="4.1.0";i.Logger.get("hawtio-console").info("Hawtio console:",Ve),(0,i.registerPlugins)(),i.hawtio.addPlugin({id:"spring-configurations",title:"Spring Configurations",path:"/spring-config",component:qe,isActive:async()=>!0}),i.hawtio.addPlugin({id:"refresh-configurations",title:"Refresh Configurations",path:"/refresh",component:ze,isActive:async()=>!0}),i.hawtio.addUrl("plugin").bootstrap(),i.configManager.addProductInfo("Hawtio",Ve);a.createRoot(document.getElementById("root")).render((0,l.jsx)(n.StrictMode,{children:(0,l.jsx)(i.Hawtio,{})}))},91903:()=>{},24394:()=>{},49813:e=>{"use strict";e.exports=JSON.parse('{"application":"my-camel-integrator","label":"master","profile":"default","props":[{"id":1,"propKey":"key","propValue":"value"}]}')},61287:e=>{"use strict";e.exports=JSON.parse('{"ui:submitButtonOptions":{"submitText":"Submit Configuration Data","norender":false,"props":{"disabled":false,"className":"btn btn-info"}},"application":{"ui:title":"Application","ui:autofocus":true,"ui:emptyValue":"","ui:autocomplete":"my-camel-integrator"},"profile":{"ui:title":"Profile","ui:emptyValue":"","ui:autocomplete":"default","ui:placeholder":"Spring profile"},"label":{"ui:title":"Label","ui:emptyValue":"","ui:autocomplete":"master","ui:placeholder":"master"},"props":{"items":{"propKey":{"ui:placeholder":"Property key"},"propValue":{"ui:placeholder":"Property value"}}}}')},13355:e=>{"use strict";e.exports=JSON.parse('{"ui:submitButtonOptions":{"submitText":"Submit Configuration Data","norender":false,"props":{"disabled":false,"className":"btn btn-info"}},"application":{"ui:title":"Application","ui:autofocus":true,"ui:emptyValue":"","ui:autocomplete":"my-camel-integrator","ui:disabled":true},"profile":{"ui:title":"Profile","ui:emptyValue":"","ui:autocomplete":"default","ui:placeholder":"Spring profile","ui:disabled":true},"label":{"ui:title":"Label","ui:emptyValue":"","ui:autocomplete":"master","ui:placeholder":"master","ui:disabled":true},"props":{"items":{"propKey":{"ui:placeholder":"Property key"},"propValue":{"ui:placeholder":"Property value"}}}}')},99747:e=>{"use strict";e.exports=JSON.parse('{"title":"Config Server Data form","description":"Config Server Data form.","type":"object","required":["application","profile","label"],"properties":{"application":{"type":"string","title":"Spring application name"},"profile":{"type":"string","title":"Spring Profile","default":"default"},"label":{"type":"string","title":"Spring config label","default":"master"},"props":{"type":"array","items":{"type":"object","uniqueItems":true,"minItems":1,"properties":{"propKey":{"type":"string"},"propValue":{"type":"string"}}}}}}')}}]);
//# sourceMappingURL=902.5c21812b.chunk.js.map