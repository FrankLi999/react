"use strict";(self.webpackChunkmy_camel_admin=self.webpackChunkmy_camel_admin||[]).push([[952],{5952:function(e,r,a){a.r(r),a.d(r,{default:function(){return te}});var t=a(4165),i=a(5861),n=(a(2791),a(7707)),l=a(6301),s=a(1413),o=a(5987),c=a(2896),d=a(3360),u=a(7748),m=a(184),p=["uiSchema","registry"];function h(e){e.uiSchema;var r=e.registry,a=(0,o.Z)(e,p),t=r.translateString;return(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({},a),{},{style:{width:"100%"},className:"ml-1 ".concat(a.className),title:t(c.g8.AddItemButton),children:(0,m.jsx)(u.L,{})}))}var x=a(9743),y=a(2677);function v(e){var r=e.children,a=e.disabled,t=e.hasToolbar,i=e.hasCopy,n=e.hasMoveDown,l=e.hasMoveUp,s=e.hasRemove,o=e.index,c=e.onCopyIndexClick,d=e.onDropIndexClick,u=e.onReorderClick,p=e.readonly,h=e.registry,v=e.uiSchema,f=h.templates.ButtonTemplates,g=f.CopyButton,j=f.MoveDownButton,b=f.MoveUpButton,Z=f.RemoveButton,S={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,m.jsx)("div",{children:(0,m.jsxs)(x.Z,{className:"mb-2  d-flex align-items-center",children:[(0,m.jsx)(y.Z,{xs:"9",lg:"9",children:r}),(0,m.jsx)(y.Z,{xs:"3",lg:"3",className:"py-4",children:t&&(0,m.jsxs)("div",{className:"d-flex flex-row",children:[(l||n)&&(0,m.jsx)("div",{className:"m-0 p-0",children:(0,m.jsx)(b,{className:"array-item-move-up",style:S,disabled:a||p||!l,onClick:u(o,o-1),uiSchema:v,registry:h})}),(l||n)&&(0,m.jsx)("div",{className:"m-0 p-0",children:(0,m.jsx)(j,{style:S,disabled:a||p||!n,onClick:u(o,o+1),uiSchema:v,registry:h})}),i&&(0,m.jsx)("div",{className:"m-0 p-0",children:(0,m.jsx)(g,{style:S,disabled:a||p,onClick:c(o),uiSchema:v,registry:h})}),s&&(0,m.jsx)("div",{className:"m-0 p-0",children:(0,m.jsx)(Z,{style:S,disabled:a||p,onClick:d(o),uiSchema:v,registry:h})})]})})]})})}var f=a(7022),g=["key"];function j(e){var r=e.canAdd,a=e.disabled,t=e.idSchema,i=e.uiSchema,n=e.items,l=e.onAddClick,d=e.readonly,u=e.registry,p=e.required,h=e.schema,v=e.title,j=(0,c.LI)(i),b=(0,c.t4)("ArrayFieldDescriptionTemplate",u,j),Z=(0,c.t4)("ArrayFieldItemTemplate",u,j),S=(0,c.t4)("ArrayFieldTitleTemplate",u,j),N=u.templates.ButtonTemplates.AddButton;return(0,m.jsx)("div",{children:(0,m.jsx)(x.Z,{className:"p-0 m-0",children:(0,m.jsxs)(y.Z,{className:"p-0 m-0",children:[(0,m.jsx)(S,{idSchema:t,title:j.title||v,schema:h,uiSchema:i,required:p,registry:u}),(0,m.jsx)(b,{idSchema:t,description:j.description||h.description,schema:h,uiSchema:i,registry:u}),(0,m.jsxs)(f.Z,{fluid:!0,className:"p-0 m-0",children:[n&&n.map((function(e){var r=e.key,a=(0,o.Z)(e,g);return(0,m.jsx)(Z,(0,s.Z)({},a),r)})),r&&(0,m.jsx)(f.Z,{className:"",children:(0,m.jsxs)(x.Z,{className:"mt-2",children:[(0,m.jsx)(y.Z,{xs:9}),(0,m.jsx)(y.Z,{xs:3,className:"py-4 col-lg-3 col-3",children:(0,m.jsx)(N,{className:"array-item-add",onClick:l,disabled:a||d,uiSchema:i,registry:u})})]})})]},"array-item-list-".concat(t.$id))]})})})}var b=a(6516);function Z(e){var r=e.id,a=e.placeholder,t=e.required,i=e.readonly,n=e.disabled,l=e.type,o=e.value,d=e.onChange,u=e.onChangeOverride,p=e.onBlur,h=e.onFocus,x=e.autofocus,y=e.options,v=e.schema,f=e.rawErrors,g=void 0===f?[]:f,j=e.children,Z=e.extraProps,S=(0,s.Z)((0,s.Z)({},Z),(0,c.TC)(v,l,y));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z.Control,(0,s.Z)((0,s.Z)({id:r,name:r,placeholder:a,autoFocus:x,required:t,disabled:n,readOnly:i,className:g.length>0?"is-invalid":"",list:v.examples?(0,c.RS)(r):void 0},S),{},{value:o||0===o?o:"",onChange:u||function(e){var r=e.target.value;return d(""===r?y.emptyValue:r)},onBlur:function(e){var a=e.target.value;return p(r,a)},onFocus:function(e){var a=e.target.value;return h(r,a)},"aria-describedby":(0,c.Jx)(r,!!v.examples)})),j,Array.isArray(v.examples)?(0,m.jsx)("datalist",{id:(0,c.RS)(r),children:v.examples.concat(v.default&&!v.examples.includes(v.default)?[v.default]:[]).map((function(e){return(0,m.jsx)("option",{value:e},e)}))}):null]})}function S(e){var r=e.id,a=e.description;return a?(0,m.jsx)("div",{children:(0,m.jsx)("div",{id:r,className:"mb-3",children:a})}):null}var N=a(9140),C=a(1398);function k(e){var r=e.errors,a=e.registry.translateString;return(0,m.jsxs)(N.Z,{border:"danger",className:"mb-4",children:[(0,m.jsx)(N.Z.Header,{className:"alert-danger",children:a(c.g8.ErrorsLabel)}),(0,m.jsx)(N.Z.Body,{className:"p-0",children:(0,m.jsx)(C.Z,{children:r.map((function(e,r){return(0,m.jsx)(C.Z.Item,{className:"border-0",children:(0,m.jsx)("span",{children:e.stack})},r)}))})})]})}var B=a(3299),T=a(7490),F=a(1132),A=a(9023),D=["icon","iconType","className","uiSchema","registry"];function q(e){var r=e.icon,a=(e.iconType,e.className,e.uiSchema,e.registry,(0,o.Z)(e,D));return(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({},a),{},{variant:e.variant||"light",size:"sm",children:r}))}function w(e){var r=e.registry.translateString;return(0,m.jsx)(q,(0,s.Z)((0,s.Z)({title:r(c.g8.CopyButton)},e),{},{icon:(0,m.jsx)(B.V,{})}))}function P(e){var r=e.registry.translateString;return(0,m.jsx)(q,(0,s.Z)((0,s.Z)({title:r(c.g8.MoveDownButton)},e),{},{icon:(0,m.jsx)(A.D,{})}))}function I(e){var r=e.registry.translateString;return(0,m.jsx)(q,(0,s.Z)((0,s.Z)({title:r(c.g8.MoveUpButton)},e),{},{icon:(0,m.jsx)(F.y,{})}))}function R(e){var r=e.registry.translateString;return(0,m.jsx)(q,(0,s.Z)((0,s.Z)({title:r(c.g8.RemoveButton)},e),{},{variant:"danger",icon:(0,m.jsx)(T.L,{})}))}function L(e){var r=e.errors,a=void 0===r?[]:r,t=e.idSchema;if(0===a.length)return null;var i=(0,c.UR)(t);return(0,m.jsx)(C.Z,{as:"ul",id:i,children:a.map((function(e,r){return(0,m.jsx)(C.Z.Item,{as:"li",className:"border-0 m-0 p-0",children:(0,m.jsx)("small",{className:"m-0 text-danger",children:e})},r)}))})}function O(e){var r=e.idSchema,a=e.help,t=e.hasErrors;if(!a)return null;var i=(0,c.JL)(r);return(0,m.jsx)(b.Z.Text,{className:t?"text-danger":"text-muted",id:i,children:a})}function V(e){var r=e.id,a=e.children,t=e.displayLabel,i=e.rawErrors,n=void 0===i?[]:i,l=e.errors,s=e.help,o=e.description,d=e.rawDescription,u=e.classNames,p=e.style,h=e.disabled,x=e.label,y=e.hidden,v=e.onDropPropertyClick,f=e.onKeyChange,g=e.readonly,j=e.required,Z=e.schema,S=e.uiSchema,N=e.registry,C=(0,c.LI)(S),k=(0,c.t4)("WrapIfAdditionalTemplate",N,C);return y?(0,m.jsx)("div",{className:"hidden",children:a}):(0,m.jsx)(k,{classNames:u,style:p,disabled:h,id:r,label:x,onDropPropertyClick:v,onKeyChange:f,readonly:g,required:j,schema:Z,uiSchema:S,registry:N,children:(0,m.jsxs)(b.Z.Group,{children:[t&&(0,m.jsxs)(b.Z.Label,{htmlFor:r,className:n.length>0?"text-danger":"",children:[x,j?"*":null]}),a,t&&d&&(0,m.jsx)(b.Z.Text,{className:n.length>0?"text-danger":"text-muted",children:o}),l,s]})})}function J(e){var r=e.description,a=e.title,t=e.properties,i=e.required,n=e.uiSchema,l=e.idSchema,s=e.schema,o=e.formData,d=e.onAddClick,u=e.disabled,p=e.readonly,h=e.registry,v=(0,c.LI)(n),g=(0,c.t4)("TitleFieldTemplate",h,v),j=(0,c.t4)("DescriptionFieldTemplate",h,v),b=h.templates.ButtonTemplates.AddButton;return(0,m.jsxs)(m.Fragment,{children:[a&&(0,m.jsx)(g,{id:(0,c.Vt)(l),title:a,required:i,schema:s,uiSchema:n,registry:h}),r&&(0,m.jsx)(j,{id:(0,c.Si)(l),description:r,schema:s,uiSchema:n,registry:h}),(0,m.jsxs)(f.Z,{fluid:!0,className:"p-0",children:[t.map((function(e,r){return(0,m.jsx)(x.Z,{style:{marginBottom:"10px"},className:e.hidden?"d-none":void 0,children:(0,m.jsxs)(y.Z,{xs:12,children:[" ",e.content]})},r)})),(0,c.Rc)(s,n,o)?(0,m.jsx)(x.Z,{children:(0,m.jsx)(y.Z,{xs:{offset:9,span:3},className:"py-4",children:(0,m.jsx)(b,{onClick:d(s),disabled:u||p,className:"object-property-expand",uiSchema:n,registry:h})})}):null]})]})}function K(e){var r=(0,c.rF)(e.uiSchema),a=r.submitText,t=r.norender,i=r.props;return t?null:(0,m.jsx)("div",{children:(0,m.jsx)(d.Z,(0,s.Z)((0,s.Z)({variant:"primary",type:"submit"},i),{},{children:a}))})}function W(e){var r=e.id,a=e.title,t=e.uiSchema,i=(0,c.LI)(t);return(0,m.jsxs)("div",{id:r,className:"my-1",children:[(0,m.jsx)("h5",{children:i.title||a}),(0,m.jsx)("hr",{className:"border-0 bg-secondary",style:{height:"1px"}})]})}function E(e){var r=e.classNames,a=e.style,t=e.children,i=e.disabled,n=e.id,l=e.label,s=e.onDropPropertyClick,o=e.onKeyChange,d=e.readonly,u=e.required,p=e.schema,h=e.uiSchema,v=e.registry,f=v.templates,g=v.translateString,j=f.ButtonTemplates.RemoveButton,Z=g(c.g8.KeyLabel,[l]);if(!(c.jk in p))return(0,m.jsx)("div",{className:r,style:a,children:t});var S="".concat(n,"-key");return(0,m.jsxs)(x.Z,{className:r,style:a,children:[(0,m.jsx)(y.Z,{xs:5,children:(0,m.jsxs)(b.Z.Group,{children:[(0,m.jsx)(b.Z.Label,{htmlFor:S,children:Z}),(0,m.jsx)(b.Z.Control,{required:u,defaultValue:l,disabled:i||d,id:S,name:S,onBlur:d?void 0:function(e){var r=e.target;return o(r.value)},type:"text"})]})}),(0,m.jsx)(y.Z,{xs:5,children:t}),(0,m.jsx)(y.Z,{xs:2,className:"py-4",children:(0,m.jsx)(j,{iconType:"block",className:"w-100",disabled:i||d,onClick:s(l),uiSchema:h,registry:v})})]},S)}function M(){return{ArrayFieldItemTemplate:v,ArrayFieldTemplate:j,BaseInputTemplate:Z,ButtonTemplates:{AddButton:h,CopyButton:w,MoveDownButton:P,MoveUpButton:I,RemoveButton:R,SubmitButton:K},DescriptionFieldTemplate:S,ErrorListTemplate:k,FieldErrorTemplate:L,FieldHelpTemplate:O,FieldTemplate:V,ObjectFieldTemplate:J,TitleFieldTemplate:W,WrapIfAdditionalTemplate:E}}M();function Q(e){var r=e.id,a=e.value,t=e.disabled,i=e.readonly,n=e.label,l=e.hideLabel,s=e.schema,o=e.autofocus,d=e.options,u=e.onChange,p=e.onBlur,h=e.onFocus,x=e.registry,y=e.uiSchema,v=(0,c.iE)(s),f=(0,c.t4)("DescriptionFieldTemplate",x,d),g=d.description||s.description;return(0,m.jsxs)(b.Z.Group,{className:"checkbox ".concat(t||i?"disabled":""),"aria-describedby":(0,c.Jx)(r),children:[!l&&!!g&&(0,m.jsx)(f,{id:(0,c.Si)(r),description:g,schema:s,uiSchema:y,registry:x}),(0,m.jsx)(b.Z.Check,{id:r,name:r,label:(0,c.RY)(n,l||!n),checked:"undefined"!==typeof a&&a,required:v,disabled:t||i,autoFocus:o,onChange:function(e){var r=e.target.checked;return u(r)},type:"checkbox",onBlur:function(e){var a=e.target.checked;return p(r,a)},onFocus:function(e){var a=e.target.checked;return h(r,a)}})]})}function U(e){var r=e.id,a=e.disabled,t=e.options,i=e.value,n=e.autofocus,l=e.readonly,s=e.required,o=e.onChange,d=e.onBlur,u=e.onFocus,p=t.enumOptions,h=t.enumDisabled,x=t.inline,y=t.emptyValue,v=Array.isArray(i)?i:[i],f=function(e){return function(r){var a=r.target.checked;o(a?(0,c.U3)(e,v,p):(0,c.aI)(e,v,p))}},g=function(e){var a=e.target.value;return d(r,(0,c.QP)(a,p,y))},j=function(e){var a=e.target.value;return u(r,(0,c.QP)(a,p,y))};return(0,m.jsx)(b.Z.Group,{children:Array.isArray(p)&&p.map((function(e,t){var i=(0,c.TR)(e.value,v),o=Array.isArray(h)&&-1!==h.indexOf(e.value);return(0,m.jsx)(b.Z.Check,{inline:x,required:s,checked:i,className:"bg-transparent border-0",type:"checkbox",id:(0,c.DK)(r,t),name:r,label:e.label,autoFocus:n&&0===t,onChange:f(t),onBlur:g,onFocus:j,disabled:a||o||l,"aria-describedby":(0,c.Jx)(r)},e.value)}))})}function G(e){var r=e.id,a=e.options,t=e.value,i=e.required,n=e.disabled,l=e.readonly,s=e.onChange,o=e.onBlur,d=e.onFocus,u=a.enumOptions,p=a.enumDisabled,h=a.emptyValue,x=function(e){var r=e.target.value;return s((0,c.QP)(r,u,h))},y=function(e){var a=e.target.value;return o(r,(0,c.QP)(a,u,h))},v=function(e){var a=e.target.value;return d(r,(0,c.QP)(a,u,h))},f=Boolean(a&&a.inline);return(0,m.jsx)(b.Z.Group,{className:"mb-0",children:Array.isArray(u)&&u.map((function(e,a){var s=Array.isArray(p)&&-1!==p.indexOf(e.value),o=(0,c.TR)(e.value,t);return(0,m.jsx)(b.Z.Check,{inline:f,label:e.label,id:(0,c.DK)(r,a),name:r,type:"radio",disabled:n||s||l,checked:o,required:i,value:String(a),onChange:x,onBlur:y,onFocus:v,"aria-describedby":(0,c.Jx)(r)},a)}))})}function _(e){var r=e.value,a=e.label,t=e.hideLabel,i=e.options,n=e.registry,l=(0,c.t4)("BaseInputTemplate",n,i);return(0,m.jsx)(l,(0,s.Z)((0,s.Z)({},e),{},{extraProps:{label:(0,c.RY)(a||void 0,t)},children:(0,m.jsx)("span",{className:"range-view",children:r})}))}function H(e){var r=e.schema,a=e.id,t=e.options,i=e.required,n=e.disabled,l=e.readonly,s=e.value,o=e.multiple,d=e.autofocus,u=e.onChange,p=e.onBlur,h=e.onFocus,x=e.placeholder,y=e.rawErrors,v=void 0===y?[]:y,f=t.enumOptions,g=t.enumDisabled,j=t.emptyValue,Z=o?[]:"";function S(e,r){return r?[].slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}var N=(0,c.Rt)(s,f,o);return(0,m.jsxs)(b.Z.Control,{as:"select",bsPrefix:"custom-select",id:a,name:a,value:"undefined"===typeof N?Z:N,required:i,multiple:o,disabled:n||l,autoFocus:d,className:v.length>0?"is-invalid":"",onBlur:p&&function(e){var r=S(e,o);p(a,(0,c.QP)(r,f,j))},onFocus:h&&function(e){var r=S(e,o);h(a,(0,c.QP)(r,f,j))},onChange:function(e){var r=S(e,o);u((0,c.QP)(r,f,j))},"aria-describedby":(0,c.Jx)(a),children:[!o&&void 0===r.default&&(0,m.jsx)("option",{value:"",children:x}),f.map((function(e,r){var a=e.value,t=e.label,i=Array.isArray(g)&&-1!=g.indexOf(a);return(0,m.jsx)("option",{id:t,value:String(r),disabled:i,children:t},r)}))]})}var z=a(4292),Y=a(9410);function $(e){var r=e.id,a=e.placeholder,t=e.value,i=e.required,n=e.disabled,l=e.autofocus,s=e.readonly,o=e.onBlur,d=e.onFocus,u=e.onChange,p=e.options;return(0,m.jsx)(Y.Z,{children:(0,m.jsx)(z.Z,{id:r,name:r,as:"textarea",placeholder:a,disabled:n,readOnly:s,value:t,required:i,autoFocus:l,rows:p.rows||5,onChange:function(e){var r=e.target.value;return u(""===r?p.emptyValue:r)},onBlur:function(e){var a=e.target.value;return o(r,a)},onFocus:function(e){var a=e.target.value;return d(r,a)},"aria-describedby":(0,c.Jx)(r)})})}function X(){return{CheckboxWidget:Q,CheckboxesWidget:U,RadioWidget:G,RangeWidget:_,SelectWidget:H,TextareaWidget:$}}X();function ee(){return{templates:M(),widgets:X()}}ee();var re=(0,l.Zz)(ee());function ae(){return(ae=(0,i.Z)((0,t.Z)().mark((function e(r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submitted data",r),console.log("submitted for data",r.formData),e.prev=2,a={method:"POST",headers:{"Content-Type":"application/json",accept:"text/html"},body:JSON.stringify(r.formData)},e.next=6,fetch("/api/config-data",a);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var te=function(){var e=a(3732),r=a(5166),t=a(2070);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(f.Z,{fluid:!0,children:(0,m.jsx)(x.Z,{children:(0,m.jsx)(y.Z,{md:"12",children:(0,m.jsxs)(N.Z,{children:[(0,m.jsxs)(N.Z.Header,{children:[(0,m.jsx)(N.Z.Title,{as:"h4",children:"Camel Integrator Configurations"}),(0,m.jsx)("p",{className:"card-category",children:"All service configurations"})]}),(0,m.jsx)(N.Z.Body,{children:(0,m.jsx)(x.Z,{children:(0,m.jsx)(y.Z,{md:"12",children:(0,m.jsx)("div",{className:"form",children:(0,m.jsx)(re,{schema:e,uiSchema:t,formData:r,validator:n.ZP,onSubmit:function(e){return function(e){return ae.apply(this,arguments)}(e)}})})})})})]})})})})})}},5166:function(e){e.exports=JSON.parse('{"application":"my-camel-integrator","label":"master","profile":"default","props":[{"propKey":"key","propValue":"value"}]}')},2070:function(e){e.exports=JSON.parse('{"ui:submitButtonOptions":{"submitText":"Submit Configuration Data","norender":false,"props":{"disabled":false,"className":"btn btn-info"}},"application":{"ui:title":"Application","ui:autofocus":true,"ui:emptyValue":"","ui:autocomplete":"my-camel-integrator"},"profile":{"ui:title":"Profile","ui:emptyValue":"","ui:autocomplete":"default","ui:widget":"select","ui:placeholder":"Spring profile"},"label":{"ui:title":"Label","ui:emptyValue":"","ui:autocomplete":"master","ui:placeholder":"master"},"props":{"items":{"propKey":{"ui:placeholder":"Property key"},"propValue":{"ui:placeholder":"Property value"}}}}')},3732:function(e){e.exports=JSON.parse('{"title":"Config Server Data form","description":"Config Server Data form.","type":"object","required":["application","profile","label"],"properties":{"application":{"type":"string","title":"Spring application name"},"profile":{"type":"string","title":"Spring Profile","enum":["default","sandbox","qa","prod"],"default":"default"},"label":{"type":"string","title":"Spring config label","default":"master"},"props":{"type":"array","items":{"type":"object","uniqueItems":true,"minItems":1,"properties":{"propKey":{"type":"string"},"propValue":{"type":"string"}}}}}}')}}]);
//# sourceMappingURL=952.bb06c210.chunk.js.map